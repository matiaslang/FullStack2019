{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","services/personlist.js","services/Notification.js","App.js","index.js"],"names":["Filter","_ref","value","onChange","react_default","a","createElement","Persons","persons","remove","Fragment","map","person","key","name","id","number","onClick","event","target","PersonFrom","newName","nameChange","newNumber","numberChange","submit","onSubmit","type","baseUrl","personlist","axios","get","then","response","data","newObject","post","put","concat","row","delete","Notification","message","errorNum","console","log","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","searchParam","setSearchParam","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","setErrorNum","useEffect","personService","initialPersons","length","personsToShow","filter","toLowerCase","includes","services_Notification","components_Filter","PersonForm","doAdd","forEach","window","confirm","noteObject","returnedPerson","setTimeout","catch","error","preventDefault","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a0428c42.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ value , onChange }) => (\n    <div>Filter shown with: <input value={value} onChange={onChange}/></div>\n)\n\nexport default Filter\n\n","import React from 'react'\n\n\nconst Persons = ({persons, remove}) => {\n    const rows = () => persons.map(person => \n    <p key={person.name + person.id}>\n        {person.name} {person.number}<button id={person.id} value={person.name} onClick={event => remove(event.target.value, event.target.id)}>Delete</button>\n    </p>\n    )\n    return <>{rows()}</>\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonFrom = ({newName , nameChange, newNumber , numberChange , submit}) => (\n    <form onSubmit={submit}>\n        <div>name: <input value={newName} onChange={nameChange}/></div>\n        <div>number: <input value={newNumber} onChange={numberChange}/></div>\n        <div><button type=\"submit\">add</button></div>        \n    </form>\n)\n\n\n\nexport default PersonFrom\n\n","import axios from 'axios'\nconst baseUrl = '/api/persons/'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteUser = (id) => {\n    const row = `${baseUrl}${id}`\n    const request = axios.delete(row)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deleteUser }","import React from 'react'\n\nconst Notification = ({ message, errorNum }) => {\n    if (message === null) {\n      return null\n    }\n\n    console.log(\"virheviesti on :\" ,errorNum)\n    \n\nif(errorNum === 0){\n    return (\n      <div className=\"goodError\">\n        {message}\n      </div>\n    )\n  }\n\n\nelse{\n    return (\n        <div className=\"badError\">\n          {message}\n        </div>\n\n    )\n}\n}\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/personlist'\nimport Notification from './services/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([''])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchParam, setSearchParam ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [errorNum, setErrorNum] = useState(0)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  console.log('render', persons.length, 'persons')\n  \n\n  const personsToShow = searchParam === \"\"\n    ? persons\n    : persons.filter(person =>\n        person.name.toLowerCase().includes(searchParam.toLowerCase())\n    );\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearchParam(event.target.value)\n  }\n\n  const addPerson = (event) => {\n  let doAdd = 0\n    persons.forEach(function(name,id){\n      if(name.name === newName){\n        doAdd = 1\n        if(window.confirm(`${newName} is already added to phonebook, would you like to replace the old number with a new one?`)){\n          const noteObject = {\n            name: newName,\n            number: newNumber,\n            id: persons.length + 1,\n          }\n          personService\n          .update(name.id, noteObject)\n          .then(returnedPerson => {\n            setErrorNum(0)\n            setErrorMessage(\n              `User ${newName} has now been updated`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 3000)\n            personService\n            .getAll()\n            .then(initialPersons => {\n            setPersons(initialPersons)\n            })\n          })\n          .catch(error => {\n            setErrorNum(1)\n            setErrorMessage(\n              `Information of ${newName} has been already deleted from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }\n    }\n  })\n\n    event.preventDefault()\n    setNewName('')\n    setNewNumber('')\n    if(doAdd === 0){ \n      const noteObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1,\n      }\n      personService\n        .create(noteObject)\n        .then(returnedPerson => {\n          setErrorNum(0)\n          setErrorMessage(\n            `User ${newName} has now been added`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setErrorNum(1)\n          setErrorMessage(\n            error.response.data.error\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n  }\n  doAdd = 0\n}\n\n  const deletePerson = (name, id) => {\n    if (window.confirm(`Are you sure you wish to delete user ${name}?`)){\n      personService\n      .deleteUser(id)\n      .then(returnedPerson=> {\n          setErrorNum(0)\n          setErrorMessage(\n            `User ${name} has now been deleted`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          personService\n          .getAll()\n          .then(initialPersons => {\n            setPersons(initialPersons)\n          })\n        })\n      .catch(error => {\n        setErrorNum(1)\n        setErrorMessage(\n          `There has been an error ${error}`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n    } \n  }\n\nreturn (\n  <div>\n\n    <h2>Phonebook</h2>\n\n    <Notification message={errorMessage} errorNum={errorNum} />\n\n    <Filter value={searchParam} onChange={handleSearchChange} />\n\n    <h3>Add a new</h3>\n\n    <PersonForm \n      newName={newName}\n      nameChange = {handleNameChange}\n      newNumber={newNumber}\n      numberChange={handleNumberChange}\n      submit={addPerson}\n    />\n\n    <h3>Numbers</h3>\n\n    <Persons persons={personsToShow} remove={deletePerson}/>\n  </div>\n)\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}